// https://github.com/JarenChow/Janvas Created by JarenChow in 2020
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).janvas=e()}(this,function(){"use strict";function f(){}function _(t,e,i,s){this.init(t,e,i,s)}function u(t,e,i,s){this.init(t,e,i,s)}function o(){this.offsetX=o.DEFAULT_OFFSET_X,this.offsetY=o.DEFAULT_OFFSET_Y,this.angle=o.DEFAULT_ANGLE,this._cos=o.DEFAULT_COS,this._sin=o.DEFAULT_SIN,this.scaleX=o.DEFAULT_SCALE_X,this.scaleY=o.DEFAULT_SCALE_Y,this.skewX=o.DEFAULT_SKEW_X,this._tanX=o.DEFAULT_TAN_X,this.skewY=o.DEFAULT_SKEW_Y,this._tanY=o.DEFAULT_TAN_Y,this._tanV=o.DEFAULT_TAN_V}function e(){this.fillStyle=e.DEFAULT_FILL_STYLE,this.strokeStyle=e.DEFAULT_STROKE_STYLE}function r(){e.call(this),this.font=r.DEFAULT_FONT,this.textAlign=r.DEFAULT_TEXT_ALIGN,this.textBaseline=r.DEFAULT_TEXT_BASELINE}function h(){e.call(this),this.lineDash=h.DEFAULT_LINE_DASH,this.lineDashOffset=h.DEFAULT_LINE_DASH_OFFSET,this.lineWidth=h.DEFAULT_LINE_WIDTH}function i(){this.shadowBlur=i.DEFAULT_SHADOW_BLUR,this.shadowColor=i.DEFAULT_SHADOW_COLOR,this.shadowOffsetX=i.DEFAULT_SHADOW_OFFSET_X,this.shadowOffsetY=i.DEFAULT_SHADOW_OFFSET_Y}function s(){this.lineCap=s.DEFAULT_LINE_CAP,this.lineJoin=s.DEFAULT_LINE_JOIN,this.miterLimit=s.DEFAULT_MITER_LIMIT,this.direction=s.DEFAULT_DIRECTION,this.imageSmoothingEnabled=s.DEFAULT_IMAGE_SMOOTHING_ENABLED,this.imageSmoothingQuality=s.DEFAULT_IMAGE_SMOOTHING_QUALITY}function c(t,e){this.init(t,e)}function t(){}function n(t){this.ctx=t}function g(){}function a(t,e,i){this.func=t,this.interval=e,this.times=i,this.requestId=void 0,this.defaultBind=this.drawDefault.bind(this),this.intervalBind=this.drawInterval.bind(this),this.count=void 0,this.timestart=void 0,this.timestamp=void 0,this.pausestamp=void 0,this.pauserange=void 0}function p(t,e,i){a.call(this,t,e||16,i||-1)}function l(t,e,i){a.call(this,t,e,i)}function y(t,e,i,s,n){this.ctx=t,this.init(e,i,isNaN(s)?0:s,isNaN(n)?0:n),this.mat=new o}function d(t,e,i,s,n){y.call(this,t,e,i,s,n),this.sty=new h}function T(t,e,i,s,n,o,r){d.call(this,t,e,i,o,r),this.setWidth(s).setHeight(n)}function E(t,e,i,s,n,o,r,h){T.call(this,t,e,i,s,n,r,h),this.setRadius(o)}function x(t,e,i,s,n){T.call(this,t,e,i,0,0,s,n)}function M(t,e,i,s,n,o,r,h,a){d.call(this,t,e,i,h,a),this.setRadius(s).setStartAngle(isNaN(n)?0:n).setEndAngle(isNaN(o)?2*Math.PI:o).setAnticlockwise(void 0!==r&&r)}function A(t,e,i,s,n,o,r,h,a){M.call(this,t,e,i,s,n,o,r,h,a)}function m(t,e,i,s,n,o,r,h,a,u,c){M.call(this,t,e,i,s,r,h,a,u,c),this.setRadiusY(n).setRotation(isNaN(o)?0:o)}function L(t,e,i,s,n,o,r){d.call(this,t,e,i,o,r),this.setEndX(s).setEndY(n)}function R(t,e,i,s,n,o,r,h,a,u,c){L.call(this,t,e,i,s,n,u,c),this.setControlPoint1X(o).setControlPoint1Y(r).setControlPoint2X(h).setControlPoint2Y(a)}function w(t,e,i,s,n,o,r,h,a){d.call(this,t,e,i,h,a),this.setAngle(isNaN(s)?0:s).setClosed(void 0!==n&&n).setArrowLength(isNaN(o)?10:o).setArrowAngle(isNaN(r)?Math.PI/6:r)}function v(t,e,i,s,n,o,r,h,a,u,c){w.call(this,t,e,i,Math.atan2(i-n,e-s),r,h,a,u,c),this.setEndX(s).setEndY(n).setEmptyLength(o)}function I(t,e,i,s,n,o,r){d.call(this,t,e,i,o,r),this.setRadius(s).setSides(n)}function S(t,e,i,s,n,o,r){I.call(this,t,e,i,s,n,o,r)}function N(t,e,i,s,n,o){y.call(this,t,e,i,n,o),this.text=s,this.sty=new r}function O(t,e,i,s,n,o,r){d.call(this,t,e,i,o,r),this.points=s,this.setLength(n||s.length)._initDataPoints()._initCache()}function P(t,e,i,s,n,o,r){O.call(this,t,e,i,s,n,o,r)}function D(t,e,i,s,n,o,r){P.call(this,t,e,i,s,n||200,o,r)}function F(t,e,i,s,n,o,r){O.call(this,t,e,i,s,n,o,r)}function C(t,e,i,s,n,o){F.call(this,t,e,i,s,8,n,o)}function U(t,e,i,s,n,o,r){F.call(this,t,e,i,s,n||34,o,r)}function X(t,e,i,s,n,o){O.call(this,t,e,i,s,3*s.length-4,n,o)}function Y(t,e,i,s,n,o,r){O.call(this,t,e,i,s,s.length,o,r),this.setRadius(n||3)}function b(t,e,i,s,n,o){d.call(this,t,e,i,n,o),this.setPath(s)}function H(t,e,i,s,n,o,r){b.call(this,t,e,i,void 0,o,r),this.sw=s,this.sh=n,this.process()}function k(t,e,i,s,n,o,r,h,a){b.call(this,t,e,i,void 0,h,a),this.r=s,this.startAngle=isNaN(n)?0:n,this.endAngle=isNaN(o)?2*Math.PI:o,this.anticlockwise=r||!1,this.process()}function G(t){var e,i,s=t?document.querySelector(t.el):null;null!==s&&(i=this,(e=document.createElement("canvas")).style.width=e.style.height="100%",i.el=s,i.canvas=s.appendChild(e),i.mount(t.props).mount(t.components).mount(t.methods).mount(t.events).mount(t.functions),i.ctx=e.getContext("2d",{alpha:!0,desynchronized:!1}),i.stg=new n(i.ctx),i.raf=new l(function(t){this.update(t),this.draw()}.bind(i),i.interval,i.times),i.scale=1,i.init(),i.resize(),i.initListeners(),i.addListeners())}return f.canvas=document.createElement("canvas"),(f.ctx=f.canvas.getContext("2d",{alpha:!0,desynchronized:!1})).FONT_CACHE=new Map,f.ls={get:function(t){var e=localStorage.getItem(t);if(!e)return!1;try{return JSON.parse(decodeURIComponent(escape(atob(e))))}catch(t){return e}},set:function(t,e){localStorage.setItem(t,btoa(unescape(encodeURIComponent(JSON.stringify(e)))))},remove:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()}},f.noop=function(){return this},f.inheritPrototype=function(t){t.prototype=Object.create(arguments[1].prototype),f.defineConstructor(t);for(var e=2;e<arguments.length;e++){var i,s=arguments[e].prototype;for(i in s)t.prototype.hasOwnProperty(i)||(t.prototype[i]=s[i])}},f.defineConstructor=function(t){Object.defineProperty(t.prototype,"constructor",{value:t,enumerable:!1})},f.measureTextWidth=function(t,e){return f.measureText(t,e).width},f.measureTextFontSize=function(o,r,h,t,e){return 0===o.length||0===r?0:(void 0===t&&(t=Math.floor(r/o.length)),void 0===e&&(e=Math.ceil(r/o.length*4)),function t(e,i){{if(e===i)return e;if(e+1===i)return f.measureTextWidth(o,i,h)>r?e:i}var s=Math.floor((e+i)/2),n=f.measureTextWidth(o,s,h);return r<n?t(e,s-1):n<r?t(s,i):s}(t,e))},f.measureText=function(t,e){var i=f.ctx,s=i.FONT_CACHE.get(e);void 0===s&&(s=new Map,i.FONT_CACHE.set(e,s));var n=s.get(t);return void 0===n&&(i.CURRENT_FONT!==e&&(i.font=i.CURRENT_FONT=e),n={width:(i=i.measureText(t)).width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent,offsetY:(i.actualBoundingBoxAscent-i.actualBoundingBoxDescent)/2},s.set(t,n)),n},f.loadImage=function(t,e,i){var s=new Image;s.onload=function(){e.call(i,this),this.onload=null},s.src=t},f.loadImages=function(t,e,i){var s,n={},o=0,r=Object.keys(t).length;for(s in t)n[s]=new Image,n[s].onload=function(){++o===r&&e.call(i,n),this.onload=null},n[s].src=t[s]},f.createLinearGradient=function(t,e,i,s,n){return n&&(t+=n._dx,e+=n._dy,i+=n._dx,s+=n._dy),f.ctx.createLinearGradient(t,e,i,s)},f.createRadialGradient=function(t,e,i,s,n,o,r){return r&&(t+=r._dx,e+=r._dy,s+=r._dx,n+=r._dy),f.ctx.createRadialGradient(t,e,i,s,n,o)},f.createPattern=function(t,e,i){i=f.ctx.createPattern(t,i||"repeat");return e&&i.setTransform({a:e.getM11(),b:e.getM12(),c:e.getM21(),d:e.getM22(),e:e.offsetX,f:e.offsetY}),i},f.drawImage=function(t,e,i,s,n,o,r,h,a){f.resetArea(t),1===arguments.length?f.ctx.drawImage(t,0,0):3===arguments.length?f.ctx.drawImage(t,e,i):5===arguments.length?f.ctx.drawImage(t,e,i,s,n):f.ctx.drawImage(t,e,i,s,n,o,r,h,a)},f.putImageData=function(t,e,i,s,n,o,r){f.resetArea(t),1===arguments.length?f.ctx.putImageData(t,0,0):3===arguments.length?f.ctx.putImageData(t,e,i):f.ctx.putImageData(t,e,i,s,n,o,r)},f.saveCanvas=function(t){var e=document.createElement("a");e.href=f.canvas.toDataURL(),e.download=t?t+".png":"canvas.png",e.click()},f.copyImageData=function(t){var e=f.ctx.createImageData(t);return e.data.set(t.data),e},f.image2ImageData=function(t){return f.resetArea(t),f.ctx.drawImage(t,0,0),f.ctx.getImageData(0,0,t.width,t.height)},f.resetArea=function(t){f.canvas.width=t.width,f.canvas.height=t.height},f.randInt=function(t,e,i){return 1===arguments.length?Math.floor(Math.random()*t):i?Math.floor(Math.random()*(e-t+1))+t:Math.floor(Math.random()*(e-t))+t},f.randSign=function(){return.5<Math.random()?1:-1},f.factorial=function(t){switch(t){case 9:return 362880;case 8:return 40320;case 7:return 5040;case 6:return 720;case 5:return 120;case 4:return 24;case 3:return 6;case 2:return 2;case 1:case 0:return 1}return t*f.factorial(t-1)},f.permutation=function(t,e){return f.factorial(e)/f.factorial(e-t)},f.combination=function(t,e){return f.factorial(e)/(f.factorial(t)*f.factorial(e-t))},f.pythagorean=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},f.deg2rad=function(t){return.017453292519943295*t},f.rad2deg=function(t){return 57.29577951308232*t},f.unique=function(t){return Array.from(new Set(t))},f.jsonClone=function(t){return JSON.parse(JSON.stringify(t))},f.speedTest=function(t,e,i){i+=" "+e.toLocaleString()+" times",console.time(i);for(var s=0;s<e;s++)t();console.timeEnd(i)},f.debounce=function(s,n,o){var r;return function(){var t,e=this,i=arguments;r&&clearTimeout(r),o?(t=!r,r=setTimeout(function(){r=void 0},n),t&&s.apply(e,i)):r=setTimeout(function(){s.apply(e,i)},n)}},f.throttle=function(s,n,o){var r,h;return o&&(r=0),function(){var t,e=this,i=arguments;o?(t=performance.now(),n<t-r&&(s.apply(e,i),r=t)):h=h||setTimeout(function(){h=void 0,s.apply(e,i)},n)}},f.documentScrollBarWidth=function(){var t=document.body.style.overflow;document.body.style.overflow="hidden";var e=document.body.clientWidth;return document.body.style.overflow="scroll",e=(e-=document.body.clientWidth)||document.body.offsetWidth-document.body.clientWidth,document.body.style.overflow=t,e},_.RGB="rgb",_.RGBA="rgba",_.LEFTPARENTHESIS="(",_.RIGHTPARENTHESIS=")",_.COMMA=", ",_.HEX="#",_.HEX_PREFIX="0x",_.HEX_MAP=new Map([[0,"0"],[1,"1"],[2,"2"],[3,"3"],[4,"4"],[5,"5"],[6,"6"],[7,"7"],[8,"8"],[9,"9"],[10,"a"],[11,"b"],[12,"c"],[13,"d"],[14,"e"],[15,"f"]]),_.REGEX_RGB=/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}),? ?([0,1]\.?\d*)?\)/,_.REGEX_HEX=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,_.copy=function(t){return new _(t.red,t.green,t.blue,t.alpha)},_.fromRgbString=function(t){t=_.REGEX_RGB.exec(t);return new _(parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),Math.round(255*parseFloat(t[4])))},_.fromHexString=function(t){t=_.REGEX_HEX.exec(t);return new _(parseInt(_.HEX_PREFIX+t[1]),parseInt(_.HEX_PREFIX+t[2]),parseInt(_.HEX_PREFIX+t[3]),parseInt(_.HEX_PREFIX+t[4]))},_.fromRgb=function(t){return new _(t.red,t.green,t.blue,t.alpha)},_.fromHsl=function(t){var e,i,s=t.hue,n=t.saturation/100,o=t.lightness/100,r=(1-Math.abs(2*o-1))*n,n=r*(1-Math.abs(s/60%2-1)),o=o-r/2,n=s<60?(e=r,i=n,0):s<120?(e=n,i=r,0):s<180?(e=0,i=r,n):s<240?(e=0,i=n,r):s<300?(e=n,i=0,r):(e=r,i=0,n);return new _(Math.round(255*(e+o)),Math.round(255*(i+o)),Math.round(255*(n+o)),t.alpha)},_.randomRgb=function(t){return new _(f.randInt(256),f.randInt(256),f.randInt(256),t?f.randInt(256):255)},_.designedRgb=function(t){return _.fromHsl(u.designedHsl(t))},_.mix=function(t,e){var i=isNaN(e.alpha)?1:e.alpha/255;return new _(Math.round((1-i)*t.red+i*e.red),Math.round((1-i)*t.green+i*e.green),Math.round((1-i)*t.blue+i*e.blue))},_.extractFront=function(t,e,i,s){if(3===arguments.length){var n=i/255;return new _(Math.round(t.red+(e.red-t.red)/n),Math.round(t.green+(e.green-t.green)/n),Math.round(t.blue+(e.blue-t.blue)/n),i)}if(4===arguments.length)return _.extractFront(t,e,Math.round(255*(1-(e.red-s.red)/(t.red-i.red)))||Math.round(255*(1-(e.green-s.green)/(t.green-i.green)))||Math.round(255*(1-(e.blue-s.blue)/(t.blue-i.blue)))||128)},_.prototype.sRgbInverseCompanding=function(){return this.red=this._sRgbInverseCompanding(this.red),this.green=this._sRgbInverseCompanding(this.green),this.blue=this._sRgbInverseCompanding(this.blue),this},_.prototype._sRgbInverseCompanding=function(t){return.04045<(t/=255)?Math.pow((t+.055)/1.055,2.4):t/12.92},_.prototype.sRgbCompanding=function(){return this.red=this._sRgbCompanding(this.red),this.green=this._sRgbCompanding(this.green),this.blue=this._sRgbCompanding(this.blue),this},_.prototype._sRgbCompanding=function(t){return 255*(t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},_.prototype.sRgbInverseGammaMixing=function(t,e,i){return this.red=t.red*(1-i)+e.red*i,this.green=t.green*(1-i)+e.green*i,this.blue=t.blue*(1-i)+e.blue*i,this},_.prototype.sRgbMarksGammaMixing=function(t,e,i){this.sRgbInverseGammaMixing(t,e,i);t=Math.pow(t.red+t.green+t.blue,.43),e=Math.pow(e.red+e.green+e.blue,.43),e=Math.pow(t*(1-i)+e*i,1/.43),i=this.red+this.green+this.blue;return 0!==i&&(this.red*=e/i,this.green*=e/i,this.blue*=e/i),this},_.prototype.toRgbString=function(t){return(t?_.RGBA:_.RGB)+_.LEFTPARENTHESIS+this.red+_.COMMA+this.green+_.COMMA+this.blue+(t?_.COMMA+this.alpha/255:"")+_.RIGHTPARENTHESIS},_.prototype.toHexString=function(t){return _.HEX+_.HEX_MAP.get(Math.floor(this.red/16))+_.HEX_MAP.get(this.red%16)+_.HEX_MAP.get(Math.floor(this.green/16))+_.HEX_MAP.get(this.green%16)+_.HEX_MAP.get(Math.floor(this.blue/16))+_.HEX_MAP.get(this.blue%16)+(t?_.HEX_MAP.get(Math.floor(this.alpha/16))+_.HEX_MAP.get(this.alpha%16):"")},_.prototype.init=function(t,e,i,s){return this.red=t,this.green=e,this.blue=i,this.alpha=s,this},_.prototype.equals=function(t){return void 0!==t&&(t===this||this.red===t.red&&this.green===t.green&&this.blue===t.blue&&this.alpha===t.alpha)},_.prototype.copy=function(){return new _(this.red,this.green,this.blue,this.alpha)},_.prototype.getRed=function(){return this.red},_.prototype.setRed=function(t){return this.red=t,this},_.prototype.getGreen=function(){return this.green},_.prototype.setGreen=function(t){return this.green=t,this},_.prototype.getBlue=function(){return this.blue},_.prototype.setBlue=function(t){return this.blue=t,this},_.prototype.getAlpha=function(){return this.alpha},_.prototype.setAlpha=function(t){return this.alpha=t,this},u.HSL="hsl",u.HSLA="hsla",u.LEFTPARENTHESIS="(",u.RIGHTPARENTHESIS=")",u.COMMA=", ",u.PERCENT="%",u.REGEX_HSL=/hsla?\((\d{1,3}\.?\d?), ?(\d{1,3}\.?\d?)%, ?(\d{1,3}\.?\d?)%,? ?([0,1]\.?\d*)?\)/,u.copy=function(t){return new u(t.hue,t.saturation,t.lightness,t.alpha)},u.fromHslString=function(t){t=u.REGEX_HSL.exec(t);return new u(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),Math.round(255*parseFloat(t[4])))},u.fromHsl=function(t){return new u(t.hue,t.saturation,t.lightness,t.alpha)},u.fromRgb=function(t){var e,i,s=t.red/255,n=t.green/255,o=t.blue/255,r=Math.max(s,n,o),h=Math.min(s,n,o),a=r-h,h=(r+h)/2;return 0==a?e=i=0:(e=r===s?(n-o)/a*60+(n<o?360:0):r===n?(o-s)/a*60+120:(s-n)/a*60+240,i=a/(1-Math.abs(2*h-1))),new u(Math.round(10*e)/10,Math.round(1e3*i)/10,Math.round(1e3*h)/10,t.alpha)},u.randomHsl=function(t){return new u(f.randInt(3600)/10,f.randInt(1e3)/10,f.randInt(1e3)/10,t?f.randInt(256):255)},u.designedHsl=function(t){return new u(isNaN(t)?f.randInt(360):t,80,70,255)},u.prototype.toHslString=function(t){return(t?u.HSLA:u.HSL)+u.LEFTPARENTHESIS+this.hue+u.COMMA+this.saturation+u.PERCENT+u.COMMA+this.lightness+u.PERCENT+(t?u.COMMA+this.alpha/255:"")+u.RIGHTPARENTHESIS},u.prototype.init=function(t,e,i,s){return this.hue=t,this.saturation=e,this.lightness=i,this.alpha=s,this},u.prototype.equals=function(t){return void 0!==t&&(t===this||this.hue===t.hue&&this.saturation===t.saturation&&this.lightness===t.lightness&&this.alpha===t.alpha)},u.prototype.copy=function(){return new u(this.hue,this.saturation,this.lightness,this.alpha)},u.prototype.getHue=function(){return this.hue},u.prototype.setHue=function(t){return this.hue=t,this},u.prototype.getSaturation=function(){return this.saturation},u.prototype.setSaturation=function(t){return this.saturation=t,this},u.prototype.getLightness=function(){return this.lightness},u.prototype.setLightness=function(t){return this.lightness=t,this},u.prototype.getAlpha=function(){return this.alpha},u.prototype.setAlpha=function(t){return this.alpha=t,this},o.DEFAULT_SKEW_X=0,o.DEFAULT_TAN_X=0,o.DEFAULT_SKEW_Y=0,o.DEFAULT_TAN_Y=0,o.DEFAULT_TAN_V=1,o.DEFAULT_SCALE_X=1,o.DEFAULT_SCALE_Y=1,o.DEFAULT_ANGLE=0,o.DEFAULT_COS=1,o.DEFAULT_SIN=0,o.DEFAULT_OFFSET_X=0,o.DEFAULT_OFFSET_Y=0,o.prototype.init=function(t,e,i,s,n,o,r){return this.skewX!==t&&(this.skewX=t,this._tanX=Math.tan(t)),this.skewY!==e&&(this.skewY=e,this._tanY=Math.tan(e)),this._tanV=1/(1-this._tanX*this._tanY),this.scaleX=i,this.scaleY=s,this.angle!==n&&(this.angle=n,this._cos=Math.cos(n),this._sin=Math.sin(n)),this.offsetX=o,this.offsetY=r,this},o.prototype.isNotDefault=function(){return this._isNotDefault=this.angle!==o.DEFAULT_ANGLE||this.scaleX!==o.DEFAULT_SCALE_X||this.scaleY!==o.DEFAULT_SCALE_Y||this.skewX!==o.DEFAULT_SKEW_X||this.skewY!==o.DEFAULT_SKEW_Y},o.prototype.equals=function(t){return void 0!==t&&(t===this||this.angle===t.angle&&this.scaleX===t.scaleX&&this.scaleY===t.scaleY&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY&&this.skewX===t.skewX&&this.skewY===t.skewY)},o.prototype.getM11=function(){return this._cos*this.scaleX-this._tanY*this._sin*this.scaleY},o.prototype.getM11i=function(){return this._cos*this._tanV/this.scaleX+this._tanX*this._tanV*this._sin/this.scaleY},o.prototype.getM12=function(){return this._sin*this.scaleX+this._tanY*this._cos*this.scaleY},o.prototype.getM12i=function(){return-this._tanY*this._tanV*this._cos/this.scaleX-this._sin*this._tanV/this.scaleY},o.prototype.getM21=function(){return-this._sin*this.scaleY+this._tanX*this._cos*this.scaleX},o.prototype.getM21i=function(){return this._sin*this._tanV/this.scaleX-this._tanX*this._tanV*this._cos/this.scaleY},o.prototype.getM22=function(){return this._cos*this.scaleY+this._tanX*this._sin*this.scaleX},o.prototype.getM22i=function(){return-this._tanY*this._tanV*this._sin/this.scaleX+this._cos*this._tanV/this.scaleY},o.prototype.getM31=function(){return this.offsetX},o.prototype.getM31i=function(){return-this.getM11i()*this.offsetX-this.getM21i()*this.offsetY},o.prototype.getM32=function(){return this.offsetY},o.prototype.getM32i=function(){return-this.getM12i()*this.offsetX-this.getM22i()*this.offsetY},o.prototype.getSkewX=function(){return this.skewX},o.prototype.setSkewX=function(t){return this.skewX!==t&&(this.skewX=t,this._tanX=Math.tan(t),this._tanV=1/(1-this._tanX*this._tanY)),this},o.prototype.getSkewY=function(){return this.skewY},o.prototype.setSkewY=function(t){return this.skewY!==t&&(this.skewY=t,this._tanY=Math.tan(t),this._tanV=1/(1-this._tanX*this._tanY)),this},o.prototype.setSkew=function(t,e){return this.skewX!==t&&(this.skewX=t,this._tanX=Math.tan(t)),this.skewY!==e&&(this.skewY=e,this._tanY=Math.tan(e)),this._tanV=1/(1-this._tanX*this._tanY),this},o.prototype.getScaleX=function(){return this.scaleX},o.prototype.setScaleX=function(t){return this.scaleX=t,this},o.prototype.getScaleY=function(){return this.scaleY},o.prototype.setScaleY=function(t){return this.scaleY=t,this},o.prototype.setScale=function(t,e){return this.scaleX=t,this.scaleY=e,this},o.prototype.getAngle=function(){return this.angle},o.prototype.setAngle=function(t){return this.angle!==t&&(this.angle=t,this._cos=Math.cos(t),this._sin=Math.sin(t)),this},o.prototype.getOffsetX=function(){return this.offsetX},o.prototype.setOffsetX=function(t){return this.offsetX=t,this},o.prototype.getOffsetY=function(){return this.offsetY},o.prototype.setOffsetY=function(t){return this.offsetY=t,this},o.prototype.setOffset=function(t,e){return this.offsetX=t,this.offsetY=e,this},e.DEFAULT_FILL_STYLE="#000000",e.DEFAULT_STROKE_STYLE="#000000",e.prototype.getFillStyle=function(){return this.fillStyle},e.prototype.setFillStyle=function(t){return this.fillStyle=t,this},e.prototype.getStrokeStyle=function(){return this.strokeStyle},e.prototype.setStrokeStyle=function(t){return this.strokeStyle=t,this},f.inheritPrototype(r,e),r.DEFAULT_FONT="10px sans-serif",r.DEFAULT_TEXT_ALIGN="start",r.DEFAULT_TEXT_BASELINE="alphabetic",r.prototype.getFont=function(){return this.font},r.prototype.setFont=function(t){return this.font=t,this},r.prototype.getTextAlign=function(){return this.textAlign},r.prototype.setTextAlign=function(t){return this.textAlign=t,this},r.prototype.getTextBaseline=function(){return this.textBaseline},r.prototype.setTextBaseline=function(t){return this.textBaseline=t,this},f.inheritPrototype(h,e),h.DEFAULT_LINE_DASH=[],h.DEFAULT_LINE_DASH_OFFSET=0,h.DEFAULT_LINE_WIDTH=1,h.prototype.getLineDash=function(){return this.lineDash},h.prototype.setLineDash=function(t){return this.lineDash=t,this},h.prototype.getLineDashOffset=function(){return this.lineDashOffset},h.prototype.setLineDashOffset=function(t){return this.lineDashOffset=t,this},h.prototype.getLineWidth=function(){return this.lineWidth},h.prototype.setLineWidth=function(t){return this.lineWidth=t,this},i.DEFAULT_SHADOW_BLUR=0,i.DEFAULT_SHADOW_COLOR="rgba(0, 0, 0, 0)",i.DEFAULT_SHADOW_OFFSET_X=0,i.DEFAULT_SHADOW_OFFSET_Y=0,i.prototype.getShadowBlur=function(){return this.shadowBlur},i.prototype.setShadowBlur=function(t){return this.shadowBlur=t,this},i.prototype.getShadowColor=function(){return this.shadowColor},i.prototype.setShadowColor=function(t){return this.shadowColor=t,this},i.prototype.getShadowOffsetX=function(){return this.shadowOffsetX},i.prototype.setShadowOffsetX=function(t){return this.shadowOffsetX=t,this},i.prototype.getShadowOffsetY=function(){return this.shadowOffsetY},i.prototype.setShadowOffsetY=function(t){return this.shadowOffsetY=t,this},s.DEFAULT_LINE_CAP="butt",s.DEFAULT_LINE_JOIN="miter",s.DEFAULT_MITER_LIMIT=10,s.DEFAULT_DIRECTION="ltr",s.DEFAULT_IMAGE_SMOOTHING_ENABLED=!0,s.DEFAULT_IMAGE_SMOOTHING_QUALITY="low",s.prototype.getLineCap=function(){return this.lineCap},s.prototype.setLineCap=function(t){return this.lineCap=t,this},s.prototype.getLineJoin=function(){return this.lineJoin},s.prototype.setLineJoin=function(t){return this.lineJoin=t,this},s.prototype.getMiterLimit=function(){return this.miterLimit},s.prototype.setMiterLimit=function(t){return this.miterLimit=t,this},s.prototype.getDirection=function(){return this.direction},s.prototype.setDirection=function(t){return this.direction=t,this},s.prototype.getImageSmoothingEnabled=function(){return this.imageSmoothingEnabled},s.prototype.setImageSmoothingEnabled=function(t){return this.imageSmoothingEnabled=t,this},s.prototype.getImageSmoothingQuality=function(){return this.imageSmoothingQuality},s.prototype.setImageSmoothingQuality=function(t){return this.imageSmoothingQuality=t,this},c.prototype.init=function(t,e){return this.x=t,this.y=e,this},c.prototype.equals=function(t){return void 0!==t&&(t===this||this.x===t.x&&this.y===t.y)},c.prototype.getX=function(){return this.x},c.prototype.setX=function(t){return this.x=t,this},c.prototype.getY=function(){return this.y},c.prototype.setY=function(t){return this.y=t,this},c.basisX=new c(1,0),c.basisY=new c(0,1),c.modulus=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},c.slope=function(t,e){return(e.y-t.y)/(e.x-t.x)},c.radian=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},c.dotProduct=function(t,e){return t.x*e.x+t.y*e.y},c.crossProduct=function(t,e){return t.x*e.y-t.y*e.x},c.theta=function(t,e){return Math.acos(c.dotProduct(t,e)/(t.modulus()*e.modulus()))},c.offsetX=function(t,e){return e.x-t.x},c.offsetY=function(t,e){return e.y-t.y},c.copy=function(t){return new c(t.x,t.y)},c.unit=function(t){var e=t.modulus();return new c(t.x/e,t.y/e)},c.abs=function(t){return new c(t.x<0?-t.x:t.x,t.y<0?-t.y:t.y)},c.inverse=function(t){return new c(-t.x,-t.y)},c.inverseX=function(t){return new c(-t.x,t.y)},c.inverseY=function(t){return new c(t.x,-t.y)},c.vertical=function(t){return new c(-t.y,t.x)},c.verticalAnti=function(t){return new c(t.y,-t.x)},c.add=function(t,e){return new c(t.x+e.x,t.y+e.y)},c.subtract=function(t,e){return new c(t.x-e.x,t.y-e.y)},c.multiply=function(t,e){return new c(t.x*e.x-t.y*e.y,t.y*e.x+t.x*e.y)},c.divide=function(t,e){var i=Math.pow(e.x,2)+Math.pow(e.y,2);return new c((t.x*e.x+t.y*e.y)/i,(t.y*e.x-t.x*e.y)/i)},c.inline=function(t,e,i){return new c(t.x*(1-i)+e.x*i,t.y*(1-i)+e.y*i)},c.lambda2point=function(t,e){return 0===e.x?t.y/e.y:t.x/e.x},c.lambda2line=function(t,e,i){return e.x===i.x?(t.y-e.y)/(i.y-e.y):(t.x-e.x)/(i.x-e.x)},c.point2pointAnti=function(t,e){return t.x*e.y<t.y*e.x},c.point2lineAnti=function(t,e,i){return(t.x-e.x)*(t.y-i.y)<(t.y-e.y)*(t.x-i.x)},c.point2point=function(t,e){if(0===e.x)return new c(0,t.y);if(0===e.y)return new c(t.x,0);var i=t.x,s=t.y,t=e.x,e=e.y;return new c((i*t*t+t*e*e+(s-e)*t*e)/(t*t+e*e),(s*e*e+e*t*t+(i-t)*t*e)/(t*t+e*e))},c.point2line=function(t,e,i){if(e.x===i.x)return new c(e.x,t.y);if(e.y===i.y)return new c(t.x,e.y);var s=t.x,n=t.y,o=e.x,t=e.y,e=i.x,i=i.y;return new c((s*(o-e)*(o-e)+o*(t-i)*(t-i)+(n-t)*(o-e)*(t-i))/((o-e)*(o-e)+(t-i)*(t-i)),(n*(t-i)*(t-i)+t*(o-e)*(o-e)+(s-o)*(o-e)*(t-i))/((o-e)*(o-e)+(t-i)*(t-i)))},c.line2line=function(t,e,i,s){var n=e.y-t.y,o=t.x-e.x,r=-n*t.x-o*t.y,e=s.y-i.y,t=i.x-s.x,s=-e*i.x-t*i.y,i=n*t-e*o;return new c((s*o-r*t)/i,(r*e-s*n)/i)},c.line2arc=function(t,e,i,s){if(t.x===e.x){var n=Math.sqrt(Math.pow(s,2)-Math.pow(t.x-i.x,2));return[new c(t.x,i.y-n),new c(t.x,i.y+n)]}var o=(e.y-t.y)/(e.x-t.x),r=t.y-o*t.x,n=Math.pow(o,2),e=n+1,t=Math.sqrt(Math.pow(s,2)*e-Math.pow(i.y-o*i.x-r,2)),s=i.x+i.y*o-r*o,n=r+i.x*o+i.y*n;return[new c((s+t)/e,(n+o*t)/e),new c((s-t)/e,(n-o*t)/e)]},c.arc2arc=function(t,e,i,s){var n=t.x,o=t.y,r=i.x,h=i.y,a=Math.pow(e,2),u=Math.pow(s,2),t=Math.pow(r-n,2)+Math.pow(h-o,2),i=Math.sqrt(t),e=(r-n)/i,s=(h-o)/i,i=(a-u)/2/i,r=(n+r)/2+i*e,i=(o+h)/2+i*s,t=Math.sqrt((a+u)/2-Math.pow(a-u,2)/4/t-t/4),s=t*s,e=-t*e;return[new c(r+s,i+e),new c(r-s,i-e)]},c.arc=function(t,e,i){var s=t.x,n=t.y,o=e.x,r=e.y,t=i.x,e=i.y,i=s*(r-e)-n*(o-t)+o*e-t*r;return new c(-((s*s+n*n)*(e-r)+(o*o+r*r)*(n-e)+(t*t+e*e)*(r-n))/i/2,-((s*s+n*n)*(o-t)+(o*o+r*r)*(t-s)+(t*t+e*e)*(s-o))/i/2)},c.skewX=function(t,e){return new c(t.x+t.y*Math.tan(e),t.y)},c.skewY=function(t,e){return new c(t.x,t.y+t.x*Math.tan(e))},c.skew=function(t,e,i){return new c(t.x+t.y*Math.tan(e),t.y+t.x*Math.tan(i))},c.scaleX=function(t,e){return new c(t.x*e,t.y)},c.scaleY=function(t,e){return new c(t.x,t.y*e)},c.scale=function(t,e,i){return new c(t.x*e,t.y*i)},c.rotate=function(t,e){var i=Math.cos(e),e=Math.sin(e);return new c(t.x*i-t.y*e,t.x*e+t.y*i)},c.translateX=function(t,e){return new c(t.x+e,t.y)},c.translateY=function(t,e){return new c(t.x,t.y+e)},c.translate=function(t,e,i){return new c(t.x+e,t.y+i)},c.transform=function(t,e){return new c(e.getM11()*t.x+e.getM21()*t.y+e.offsetX,e.getM12()*t.x+e.getM22()*t.y+e.offsetY)},c.resetTransform=function(t,e){return new c(e.getM11i()*(t.x-e.offsetX)+e.getM21i()*(t.y-e.offsetY),e.getM12i()*(t.x-e.offsetX)+e.getM22i()*(t.y-e.offsetY))},c.prototype.modulus=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},c.prototype.slope=function(){return this.y/this.x},c.prototype.radian=function(){return Math.atan2(this.y,this.x)},c.prototype.dotProduct=function(t){return this.x*t.x+this.y*t.y},c.prototype.crossProduct=function(t){return this.x*t.y-this.y*t.x},c.prototype.theta=function(t){return Math.acos(this.dotProduct(t)/(this.modulus()*t.modulus()))},c.prototype.offsetX=function(t){return t.x-this.x},c.prototype.offsetY=function(t){return t.y-this.y},c.prototype.copy=function(){return new c(this.x,this.y)},c.prototype.unit=function(){var t=this.modulus();return this.x/=t,this.y/=t,this},c.prototype.abs=function(){return this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y),this},c.prototype.inverse=function(){return this.x=-this.x,this.y=-this.y,this},c.prototype.inverseX=function(){return this.x=-this.x,this},c.prototype.inverseY=function(){return this.y=-this.y,this},c.prototype.vertical=function(){var t=this.x;return this.x=-this.y,this.y=t,this},c.prototype.verticalAnti=function(){var t=-this.x;return this.x=this.y,this.y=t,this},c.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},c.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},c.prototype.multiply=function(t){var e=this.y*t.x+this.x*t.y;return this.x=this.x*t.x-this.y*t.y,this.y=e,this},c.prototype.divide=function(t){var e=Math.pow(t.x,2)+Math.pow(t.y,2),i=(this.y*t.x-this.x*t.y)/e;return this.x=(this.x*t.x+this.y*t.y)/e,this.y=i,this},c.prototype.inline=function(t,e){return this.x=this.x*(1-e)+t.x*e,this.y=this.y*(1-e)+t.y*e,this},c.prototype.skewX=function(t){return this.x+=this.y*Math.tan(t),this},c.prototype.skewY=function(t){return this.y+=this.x*Math.tan(t),this},c.prototype.skew=function(t,e){e=this.y+this.x*Math.tan(e);return this.x+=this.y*Math.tan(t),this.y=e,this},c.prototype.scaleX=function(t){return this.x*=t,this},c.prototype.scaleY=function(t){return this.y*=t,this},c.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},c.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),t=this.x*i+this.y*e;return this.x=this.x*e-this.y*i,this.y=t,this},c.prototype.translateX=function(t){return this.x+=t,this},c.prototype.translateY=function(t){return this.y+=t,this},c.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},c.prototype.transform=function(t){var e=t.getM12()*this.x+t.getM22()*this.y+t.offsetY;return this.x=t.getM11()*this.x+t.getM21()*this.y+t.offsetX,this.y=e,this},c.prototype.resetTransform=function(t){this.x-=t.offsetX,this.y-=t.offsetY;var e=t.getM12i()*this.x+t.getM22i()*this.y;return this.x=t.getM11i()*this.x+t.getM21i()*this.y,this.y=e,this},t.arc=function(t,e,i,s,n,o){return Math.sqrt(Math.pow(t-s,2)+Math.pow(e-n,2))<=i+o},t.rect=function(t,e,i,s,n,o,r,h){return t<=r&&e<=h&&n<=i&&o<=s},t.arcRect=function(t,e,i,s,n,o,r,h,a,u,c){var p;return 11===arguments.length&&(p=(h-t)*c+(e-a)*u+a,t=(t-h)*u+(e-a)*c+h,e=p),o=t<s?s:o<t?o:t,r=e<n?n:r<e?r:e,Math.sqrt(Math.pow(o-t,2)+Math.pow(r-e,2))<=i},t.light=function(t,e,i,s,n,o,r,h){if((t-n)*(e-h)<(e-o)*(t-r))return!1;var a=s-e,s=t-i,i=h-o,h=n-r,s=((a*t+s*e)*h-(i*n+h*o)*s)/(a*h-i*s);return n<=s&&s<=r},t.sepAxis=function(t,e){for(var i,s,n=0;n<t.length;n+=2)if(i=t[n+2],s=t[n+3],n+2===t.length&&(i=t[0],s=t[1]),o(t,e,s-t[n+1],t[n]-i))return!1;for(n=0;n<e.length;n+=2)if(i=e[n+2],s=e[n+3],n+2===e.length&&(i=e[0],s=e[1]),o(t,e,s-e[n+1],e[n]-i))return!1;return!0;function o(t,e,i,s){for(var n,o,r,h,a,u=0;u<t.length;u+=2)a=t[u]*i+t[u+1]*s,isNaN(n)?n=o=a:a<n?n=a:o<a&&(o=a);for(u=0;u<e.length;u+=2)a=e[u]*i+e[u+1]*s,isNaN(r)?r=h=a:a<r?r=a:h<a&&(h=a);return o<r||h<n}},t.sepAxisArc=function(t,e,i,s){for(var n,o,r,h,a=0;a<t.length;a+=2)if(n=t[a+2],o=t[a+3],a+2===t.length&&(n=t[0],o=t[1]),u(t,e,i,s,o-t[a+1],t[a]-n))return!1;for(a=0;a<t.length;a+=2)n=t[a],o=t[a+1],(isNaN(r)||Math.pow(n-e,2)+Math.pow(o-i,2)<Math.pow(r-e,2)+Math.pow(h-i,2))&&(r=n,h=o);return!u(t,e,i,s,r-e,h-i);function u(t,e,i,s,n,o){var r,h,a,u,c=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));for(n/=c,o/=c,u=0;u<t.length;u+=2)a=t[u]*n+t[u+1]*o,isNaN(r)?r=h=a:a<r?r=a:h<a&&(h=a);return h<(a=e*n+i*o)-s||a+s<r}},n.DEFAULT_GLOBAL_ALPHA=1,n.DEFAULT_GLOBAL_COMPOSITE_OPERATION="source-over",n.DEFAULT_FILTER="none",n.prototype.setGlobalAlpha=function(t){var e=this.ctx;return e.CURRENT_GLOBAL_ALPHA!==t&&(e.globalAlpha=e.CURRENT_GLOBAL_ALPHA=t),this},n.prototype.resetGlobalAlpha=function(){var t=this.ctx;return t.CURRENT_GLOBAL_ALPHA!==n.DEFAULT_GLOBAL_ALPHA&&(t.globalAlpha=t.CURRENT_GLOBAL_ALPHA=n.DEFAULT_GLOBAL_ALPHA),this},n.prototype.setGlobalCompositeOperation=function(t){var e=this.ctx;return e.CURRENT_GLOBAL_COMPOSITE_OPERATION!==t&&(e.globalCompositeOperation=e.CURRENT_GLOBAL_COMPOSITE_OPERATION=t),this},n.prototype.resetGlobalCompositeOperation=function(){var t=this.ctx;return t.CURRENT_GLOBAL_COMPOSITE_OPERATION!==n.DEFAULT_GLOBAL_COMPOSITE_OPERATION&&(t.globalCompositeOperation=t.CURRENT_GLOBAL_COMPOSITE_OPERATION=n.DEFAULT_GLOBAL_COMPOSITE_OPERATION),this},n.prototype.setFilter=function(t){var e=this.ctx;return e.CURRENT_FILTER!==t&&(e.filter=e.CURRENT_FILTER=t),this},n.prototype.resetFilter=function(){var t=this.ctx;return t.CURRENT_FILTER!==n.DEFAULT_FILTER&&(t.filter=t.CURRENT_FILTER=n.DEFAULT_FILTER),this},n.prototype.setShadowStyles=function(t){var e=this.ctx;return e.CURRENT_SHADOW_BLUR!==t.shadowBlur&&(e.shadowBlur=e.CURRENT_SHADOW_BLUR=t.shadowBlur),e.CURRENT_SHADOW_COLOR!==t.shadowColor&&(e.shadowColor=e.CURRENT_SHADOW_COLOR=t.shadowColor),e.CURRENT_SHADOW_OFFSET_X!==t.shadowOffsetX&&(e.shadowOffsetX=e.CURRENT_SHADOW_OFFSET_X=t.shadowOffsetX),e.CURRENT_SHADOW_OFFSET_Y!==t.shadowOffsetY&&(e.shadowOffsetY=e.CURRENT_SHADOW_OFFSET_Y=t.shadowOffsetY),this},n.prototype.resetShadowStyles=function(){var t=this.ctx;return t.CURRENT_SHADOW_BLUR!==i.DEFAULT_SHADOW_BLUR&&(t.shadowBlur=t.CURRENT_SHADOW_BLUR=i.DEFAULT_SHADOW_BLUR),t.CURRENT_SHADOW_COLOR!==i.DEFAULT_SHADOW_COLOR&&(t.shadowColor=t.CURRENT_SHADOW_COLOR=i.DEFAULT_SHADOW_COLOR),t.CURRENT_SHADOW_OFFSET_X!==i.DEFAULT_SHADOW_OFFSET_X&&(t.shadowOffsetX=t.CURRENT_SHADOW_OFFSET_X=i.DEFAULT_SHADOW_OFFSET_X),t.CURRENT_SHADOW_OFFSET_Y!==i.DEFAULT_SHADOW_OFFSET_Y&&(t.shadowOffsetY=t.CURRENT_SHADOW_OFFSET_Y=i.DEFAULT_SHADOW_OFFSET_Y),this},n.prototype.setOtherStyles=function(t){var e=this.ctx;return e.CURRENT_LINE_CAP!==t.lineCap&&(e.lineCap=e.CURRENT_LINE_CAP=t.lineCap),e.CURRENT_LINE_JOIN!==t.lineJoin&&(e.lineJoin=e.CURRENT_LINE_JOIN=t.lineJoin),e.CURRENT_MITER_LIMIT!==t.miterLimit&&(e.miterLimit=e.CURRENT_MITER_LIMIT=t.miterLimit),e.CURRENT_DIRECTION!==t.direction&&(e.direction=e.CURRENT_DIRECTION=t.direction),e.CURRENT_IMAGE_SMOOTHING_ENABLED!==t.imageSmoothingEnabled&&(e.imageSmoothingEnabled=e.CURRENT_IMAGE_SMOOTHING_ENABLED=t.imageSmoothingEnabled),e.CURRENT_IMAGE_SMOOTHING_QUALITY!==t.imageSmoothingQuality&&(e.imageSmoothingQuality=e.CURRENT_IMAGE_SMOOTHING_QUALITY=t.imageSmoothingQuality),this},n.prototype.resetOtherStyles=function(){var t=this.ctx;return t.CURRENT_LINE_CAP!==s.DEFAULT_LINE_CAP&&(t.lineCap=t.CURRENT_LINE_CAP=s.DEFAULT_LINE_CAP),t.CURRENT_LINE_JOIN!==s.DEFAULT_LINE_JOIN&&(t.lineJoin=t.CURRENT_LINE_JOIN=s.DEFAULT_LINE_JOIN),t.CURRENT_MITER_LIMIT!==s.DEFAULT_MITER_LIMIT&&(t.miterLimit=t.CURRENT_MITER_LIMIT=s.DEFAULT_MITER_LIMIT),t.CURRENT_DIRECTION!==s.DEFAULT_DIRECTION&&(t.direction=t.CURRENT_DIRECTION=s.DEFAULT_DIRECTION),t.CURRENT_IMAGE_SMOOTHING_ENABLED!==s.DEFAULT_IMAGE_SMOOTHING_ENABLED&&(t.imageSmoothingEnabled=t.CURRENT_IMAGE_SMOOTHING_ENABLED=s.DEFAULT_IMAGE_SMOOTHING_ENABLED),t.CURRENT_IMAGE_SMOOTHING_QUALITY!==s.DEFAULT_IMAGE_SMOOTHING_QUALITY&&(t.imageSmoothingQuality=t.CURRENT_IMAGE_SMOOTHING_QUALITY=s.DEFAULT_IMAGE_SMOOTHING_QUALITY),this},n.prototype.initCurrentStyles=function(){var t=this.ctx;t.CURRENT_GLOBAL_ALPHA=n.DEFAULT_GLOBAL_ALPHA,t.CURRENT_GLOBAL_COMPOSITE_OPERATION=n.DEFAULT_GLOBAL_COMPOSITE_OPERATION,t.CURRENT_FILTER=n.DEFAULT_FILTER,t.CURRENT_FILL_STYLE=e.DEFAULT_FILL_STYLE,t.CURRENT_STROKE_STYLE=e.DEFAULT_STROKE_STYLE,t.CURRENT_FONT=r.DEFAULT_FONT,t.CURRENT_TEXT_ALIGN=r.DEFAULT_TEXT_ALIGN,t.CURRENT_TEXT_BASELINE=r.DEFAULT_TEXT_BASELINE,t.CURRENT_LINE_DASH=h.DEFAULT_LINE_DASH,t.CURRENT_LINE_DASH_OFFSET=h.DEFAULT_LINE_DASH_OFFSET,t.CURRENT_LINE_WIDTH=h.DEFAULT_LINE_WIDTH,t.CURRENT_SHADOW_BLUR=i.DEFAULT_SHADOW_BLUR,t.CURRENT_SHADOW_COLOR=i.DEFAULT_SHADOW_COLOR,t.CURRENT_SHADOW_OFFSET_X=i.DEFAULT_SHADOW_OFFSET_X,t.CURRENT_SHADOW_OFFSET_Y=i.DEFAULT_SHADOW_OFFSET_Y,t.CURRENT_LINE_CAP=s.DEFAULT_LINE_CAP,t.CURRENT_LINE_JOIN=s.DEFAULT_LINE_JOIN,t.CURRENT_MITER_LIMIT=s.DEFAULT_MITER_LIMIT,t.CURRENT_DIRECTION=s.DEFAULT_DIRECTION,t.CURRENT_IMAGE_SMOOTHING_ENABLED=s.DEFAULT_IMAGE_SMOOTHING_ENABLED,t.CURRENT_IMAGE_SMOOTHING_QUALITY=s.DEFAULT_IMAGE_SMOOTHING_QUALITY},g.getPixelIndex=function(t,e,i){return 4*(e+i*t)},g.getPixelColor=function(t,e,i){var s=t.data,i=g.getPixelIndex(t.width,e,i);return new _(s[i],s[i+1],s[i+2],s[i+3])},g.getAverageColor=function(t,e,i,s,n){var o=t.width,r=t.height,h=t.data;isNaN(e)?(e=i=0,s=o,n=r):isNaN(s)?(s=o-e,n=r-i):(o<e+s&&(s=o-e),r<i+n&&(n=r-i));for(var a=0,u=0,c=0,p=0,r=s*n,f=g.getPixelIndex(o,e,i),l=0;l<n;l++){for(var y=0;y<s;y++)a+=h[f],u+=h[f+1],c+=h[f+2],p+=h[f+3],f+=4;f+=4*(o-s)}return new _(Math.round(a/r),Math.round(u/r),Math.round(c/r),Math.round(p/r))},g.setPixelColor=function(t,e,i,s,n,o){var r=t.width,h=t.height,a=t.data;isNaN(i)?(i=s=0,n=r,o=h):isNaN(n)?(n=r-i,o=h-s):(r<i+n&&(n=r-i),h<s+o&&(o=h-s));for(var u=g.getPixelIndex(r,i,s),c=0;c<o;c++){for(var p=0;p<n;p++)a[u]=e.red,a[u+1]=e.green,a[u+2]=e.blue,a[u+3]=e.alpha,u+=4;u+=4*(r-n)}},g.mosaic=function(t,p,e,i,s,n){var f=t.width,o=t.height,l=t.data;if(isNaN(e)?(e=i=0,s=f,n=o):isNaN(s)?(s=f-e,n=o-i):(f<e+s&&(s=f-e),o<i+n&&(n=o-i)),1!==p){for(var r=Math.floor(n/p),h=Math.floor(s/p),a=s%p,u=n%p,y=g.getPixelIndex(f,e,i),c=0;c<r;c++){for(var _=0;_<h;_++)d(c,_,p,p);d(c,h,a,p)}for(_=0;_<h;_++)d(r,_,p,u);d(r,h,a,u)}function d(t,e,i,s){for(var n,t=y+(t*f+e)*p*4,o=0,r=0,h=0,a=0,e=i*s,u=t,c=0;c<s;c++){for(n=0;n<i;n++)o+=l[u],r+=l[u+1],h+=l[u+2],a+=l[u+3],u+=4;u+=4*(f-i)}for(o=Math.round(o/e),r=Math.round(r/e),h=Math.round(h/e),a=Math.round(a/e),u=t,c=0;c<s;c++){for(n=0;n<i;n++)l[u]=o,l[u+1]=r,l[u+2]=h,l[u+3]=a,u+=4;u+=4*(f-i)}}},g.transparencyDisposal=function(t,e,i,s,n,o){var r=t.width,h=t.height,a=t.data;isNaN(e)?(e=i=0,s=r,n=h):isNaN(s)?(s=r-e,n=h-i):(r<e+s&&(s=r-e),h<i+n&&(n=h-i)),o=o||255;for(var u=g.getPixelIndex(r,e,i),c=0;c<n;c++){for(var p=0;p<s;p++)a[u]>=o&&a[u+1]>=o&&a[u+2]>=o&&(a[u+3]=0),u+=4;u+=4*(r-s)}},g.reverseColor=function(t){for(var e=t.data,i=e.length,s=0;s<i;s+=4)e[s]=255-e[s],e[s+1]=255-e[s+1],e[s+2]=255-e[s+2]},g.greyProcessing=function(t){for(var e=t.data,i=e.length,s=0;s<i;s+=4){var n=.299*e[s]+.587*e[s+1]+.114*e[s+2];e[s]=n,e[s+1]=n,e[s+2]=n}},g.blackWhite=function(t,e){for(var i=t.data,s=i.length,n=e?254*e:127,o=0;o<s;o+=4){var r=Math.round((i[o]+i[o+1]+i[o+2])/3);i[o]=i[o+1]=i[o+2]=n<r?255:0}},g.reliefFilter=function(t){for(var e=t.width,i=t.height,s=t.data,n=e-1,o=i-1,r=4*e,h=0,a=0;a<o;a++){for(var u=0;u<n;u++)s[h]=2*s[h]-s[h+4]-s[h+r]+127.5,s[h+1]=2*s[h+1]-s[h+5]-s[h+1+r]+127.5,s[h+2]=2*s[h+2]-s[h+6]-s[h+2+r]+127.5,h+=4;h+=4}for(h=g.getPixelIndex(e,n,0),a=0;a<o;a++)s[h]=s[h-4],s[h+1]=s[h-3],s[h+2]=s[h-2],h+=r;for(h=g.getPixelIndex(e,0,o),u=0;u<e;u++)s[h]=s[h-r],s[h+1]=s[h+1-r],s[h+2]=s[h+2-r],h+=4},g.sunGlassFilter=function(t){for(var e=t.width,i=t.height,s=t.data,n=e-1,o=i-1,r=4*e,h=0,a=0;a<o;a++){for(var u=0;u<n;u++)s[h]=2*s[h]-1.5*s[h+4],s[h+1]=2*s[h+1]-1.5*s[h+5],s[h+2]=2*s[h+2]-1.5*s[h+6],h+=4;h+=4}for(h=g.getPixelIndex(e,n,0),a=0;a<o;a++)s[h]=s[h-4],s[h+1]=s[h-3],s[h+2]=s[h-2],h+=r;for(h=g.getPixelIndex(e,0,o),u=0;u<e;u++)s[h]=s[h-r],s[h+1]=s[h+1-r],s[h+2]=s[h+2-r],h+=4},a.prototype.drawDefault=f.noop,a.prototype.drawInterval=f.noop,a.prototype.init=f.noop,a.prototype.start=function(){return this.init().resume(),this},a.prototype.pause=function(){return this.stop(),this.pausestamp=this.timestamp,this},a.prototype.resume=f.noop,a.prototype.stop=f.noop,a.prototype.isRunning=function(){return void 0!==this.requestId},f.inheritPrototype(p,a),p.prototype.drawDefault=function(){if(this.timestamp=performance.now(),0!==this.pausestamp)return this.pauserange+=this.timestamp-this.pausestamp,void(this.pausestamp=0);this.func(this.timestamp-this.pauserange-this.timestart)},p.prototype.drawInterval=function(){this.drawDefault(),++this.count===this.times&&this.stop()},p.prototype.init=function(){return this.timestart=performance.now(),1<this.times&&(this.count=1),this.pausestamp=0,this.pauserange=0,this},p.prototype.resume=function(){return this.isRunning()||(this.times<0?(this.drawDefault(),this.requestId=setInterval(this.defaultBind,this.interval)):1===this.times?this.drawDefault():this.times>this.count&&(this.drawDefault(),this.requestId=setInterval(this.intervalBind,this.interval))),this},p.prototype.stop=function(){return this.requestId=clearInterval(this.requestId),this},f.inheritPrototype(l,a),l.prototype.drawDefault=function(t){if(this.requestId=requestAnimationFrame(this.defaultBind),void 0===this.timestart&&(this.timestart=t),this.timestamp=t,0!==this.pausestamp)return this.pauserange+=t-this.pausestamp,void(this.pausestamp=0);this.func(t-this.pauserange-this.timestart)},l.prototype.drawInterval=function(t){if(this.requestId=requestAnimationFrame(this.intervalBind),void 0===this.timestart&&(this.timestart=t),this.timestamp=t,0!==this.pausestamp)return this.pauserange+=t-this.pausestamp,void(this.pausestamp=0);(t-=this.pauserange+this.timestart)>this.count*this.interval&&(this.func(t),++this.count===this.times&&this.stop())},l.prototype.init=function(){return this.timestart=void 0,this.interval&&(this.count=0),this.pausestamp=0,this.pauserange=0,this},l.prototype.resume=function(){return this.isRunning()||(this.interval?this.count!==this.times&&(this.requestId=requestAnimationFrame(this.intervalBind)):this.requestId=requestAnimationFrame(this.defaultBind)),this},l.prototype.stop=function(){return this.requestId=cancelAnimationFrame(this.requestId),this},y.prototype.init=function(t,e,i,s){return this.sx=t,this.sy=e,this.cx=i,this.cy=s,this._dx=t-i,this._dy=e-s,this},y.prototype.initXY=function(t,e){return this.sx=t,this.sy=e,this._dx=t-this.cx,this._dy=e-this.cy,this},y.prototype.initCXY=function(t,e){return this.cx=t,this.cy=e,this._dx=this.sx-t,this._dy=this.sy-e,this},y.prototype.fill=function(){return this.setTransform().process(),this.ctx.fill(),this.resetTransform(),this},y.prototype.fillEvenOdd=function(){return this.setTransform().process(),this.ctx.fill("evenodd"),this.resetTransform(),this},y.prototype.stroke=function(){return this.setTransform().process(),this.ctx.stroke(),this.resetTransform(),this},y.prototype.fillStroke=function(){return this.setTransform().process(),this.ctx.fill(),this.ctx.stroke(),this.resetTransform(),this},y.prototype.fillEvenOddStroke=function(){return this.setTransform().process(),this.ctx.fill("evenodd"),this.ctx.stroke(),this.resetTransform(),this},y.prototype.clip=function(){return this.ctx.save(),this.setTransform().process(),this.ctx.clip(),this.resetTransform(),this},y.prototype.clipEvenOdd=function(){return this.ctx.save(),this.setTransform().process(),this.ctx.clip("evenodd"),this.resetTransform(),this},y.prototype.restore=function(){return this.ctx.restore(),this},y.prototype.clear=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform().process(),n.clip(),n.clearRect(this._dx+t,this._dy+e,i,s),n.restore(),this},y.prototype.clearEvenOdd=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform().process(),n.clip("evenodd"),n.clearRect(this._dx+t,this._dy+e,i,s),n.restore(),this},y.prototype.setTransform=function(){var t=this.mat;return t.isNotDefault()?this.ctx.transform(t.getM11(),t.getM12(),t.getM21(),t.getM22(),t.offsetX+this.cx,t.offsetY+this.cy):(t._isTranslate=t.offsetX||t.offsetY||this.cx||this.cy)&&this.ctx.translate(t.offsetX+this.cx,t.offsetY+this.cy),this},y.prototype.resetTransform=function(){var t=this.mat;return t._isNotDefault?this.ctx.resetTransform():t._isTranslate&&this.ctx.translate(-t.offsetX-this.cx,-t.offsetY-this.cy),this},y.prototype.process=f.noop,y.prototype.isPointInPath=function(t,e){var i=this.mat;return this.process(),t-=i.offsetX+this.cx,e-=i.offsetY+this.cy,this.ctx.isPointInPath(i.getM11i()*t+i.getM21i()*e,i.getM12i()*t+i.getM22i()*e)},y.prototype.isPointInStroke=function(t,e){var i=this.mat;return this.process(),t-=i.offsetX+this.cx,e-=i.offsetY+this.cy,this.ctx.isPointInStroke(i.getM11i()*t+i.getM21i()*e,i.getM12i()*t+i.getM22i()*e)},y.prototype.getStartX=function(){return this.sx},y.prototype.setStartX=function(t){return this.sx=t,this._dx=t-this.cx,this},y.prototype.getStartY=function(){return this.sy},y.prototype.setStartY=function(t){return this.sy=t,this._dy=t-this.cy,this},y.prototype.getCenterX=function(){return this.cx},y.prototype.setCenterX=function(t){return this.cx=t,this._dx=this.sx-t,this},y.prototype.getCenterY=function(){return this.cy},y.prototype.setCenterY=function(t){return this.cy=t,this._dy=this.sy-t,this},y.prototype.getMatrix=function(){return this.mat},y.prototype.setMatrix=function(t){return this.mat=t,this},f.inheritPrototype(d,y),d.prototype.fill=function(){return this.setStyles().setTransform().process(),this.ctx.fill(),this.resetTransform(),this},d.prototype.fillEvenOdd=function(){return this.setStyles().setTransform().process(),this.ctx.fill("evenodd"),this.resetTransform(),this},d.prototype.stroke=function(){return this.setStyles().setTransform().process(),this.ctx.stroke(),this.resetTransform(),this},d.prototype.fillStroke=function(){return this.setStyles().setTransform().process(),this.ctx.fill(),this.ctx.stroke(),this.resetTransform(),this},d.prototype.fillEvenOddStroke=function(){return this.setStyles().setTransform().process(),this.ctx.fill("evenodd"),this.ctx.stroke(),this.resetTransform(),this},d.prototype.setStyles=function(){var t=this.ctx,e=this.sty;return t.CURRENT_FILL_STYLE!==e.fillStyle&&(t.fillStyle=t.CURRENT_FILL_STYLE=e.fillStyle),t.CURRENT_STROKE_STYLE!==e.strokeStyle&&(t.strokeStyle=t.CURRENT_STROKE_STYLE=e.strokeStyle),t.CURRENT_LINE_DASH!==e.lineDash&&(t.CURRENT_LINE_DASH=e.lineDash,t.setLineDash(e.lineDash)),t.CURRENT_LINE_DASH_OFFSET!==e.lineDashOffset&&(t.lineDashOffset=t.CURRENT_LINE_DASH_OFFSET=e.lineDashOffset),t.CURRENT_LINE_WIDTH!==e.lineWidth&&(t.lineWidth=t.CURRENT_LINE_WIDTH=e.lineWidth),this},d.prototype.getStyle=function(){return this.sty},d.prototype.setStyle=function(t){return this.sty=t,this},f.inheritPrototype(T,d),T.prototype.process=function(){this.ctx.beginPath(),this.ctx.rect(this._dx,this._dy,this.sw,this.sh)},T.prototype.isPointInPath=function(t,e){var i,s=this.mat,n=this._dx,o=this._dx+this.sw,r=this._dy,h=this._dy+this.sh;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,o<n&&(i=n,n=o,o=i),h<r&&(i=r,r=h,h=i),n<=t&&r<=e&&t<=o&&e<=h},T.prototype.isPointInStroke=function(t,e){var i,s=this.mat,n=this._dx,o=this._dx+this.sw,r=this._dy,h=this._dy+this.sh,a=this.sty.lineWidth;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,o<n&&(i=n,n=o,o=i),h<r&&(i=r,r=h,h=i),(0===Math.round((t-n)/a)||0===Math.round((t-o)/a))&&r<=e&&e<=h||(0===Math.round((e-r)/a)||0===Math.round((e-h)/a))&&n<=t&&t<=o},T.prototype.getWidth=function(){return this.sw},T.prototype.setWidth=function(t){return this.sw=t,this},T.prototype.getHeight=function(){return this.sh},T.prototype.setHeight=function(t){return this.sh=t,this},f.inheritPrototype(E,T),E.prototype.process=function(){var t=this.ctx,e=this._dx,i=this._dy,s=e+this.sw,n=i+this.sh,o=this.r;t.beginPath(),t.moveTo(e+o*(0<this.sw?1:-1),i),t.arcTo(s,i,s,n,o),t.arcTo(s,n,e,n,o),t.arcTo(e,n,e,i,o),t.arcTo(e,i,s,i,o)},E.prototype.getRadius=function(){return this.r},E.prototype.setRadius=function(t){return this.r=isNaN(t)?Math.round(Math.min(Math.abs(this.sw),Math.abs(this.sh))/4):t,this},f.inheritPrototype(x,T),x.prototype.draw=function(){return this},x.prototype.getImage=function(){return this.image},x.prototype.setImage=function(t){return this.image=t,this},x.prototype.initParams=function(t,e,i,s,n,o){return 0===arguments.length?(this.setWidth(this.image.width).setHeight(this.image.height),this.draw!==x.prototype.draw0&&(this.draw=x.prototype.draw0)):2===arguments.length?(this.setWidth(t).setHeight(e),this.draw!==x.prototype.draw2&&(this.draw=x.prototype.draw2)):(this.setWidth(t).setHeight(e),this.isx=i,this.isy=s,this.isw=n,this.ish=o,this.draw!==x.prototype.draw6&&(this.draw=x.prototype.draw6)),this},x.prototype.draw0=function(){return this.setTransform(),this.ctx.drawImage(this.image,this._dx,this._dy),this.resetTransform(),this},x.prototype.draw2=function(){return this.setTransform(),this.ctx.drawImage(this.image,this._dx,this._dy,this.sw,this.sh),this.resetTransform(),this},x.prototype.draw6=function(){return this.setTransform(),this.ctx.drawImage(this.image,this.isx,this.isy,this.isw,this.ish,this._dx,this._dy,this.sw,this.sh),this.resetTransform(),this},f.inheritPrototype(M,d),M.prototype.process=function(){this.ctx.beginPath(),this.ctx.arc(this._dx,this._dy,this.r,this.startAngle,this.endAngle,this.anticlockwise)},M.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,Math.sqrt(Math.pow(this._dx-t,2)+Math.pow(this._dy-e,2))<=this.r},M.prototype.isPointInStroke=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,0===Math.round((Math.sqrt(Math.pow(this._dx-t,2)+Math.pow(this._dy-e,2))-this.r)/this.sty.lineWidth)},M.prototype.getRadius=function(){return this.r},M.prototype.setRadius=function(t){return this.r=t,this},M.prototype.getStartAngle=function(){return this.startAngle},M.prototype.setStartAngle=function(t){return this.startAngle=t,this},M.prototype.getEndAngle=function(){return this.endAngle},M.prototype.setEndAngle=function(t){return this.endAngle=t,this},M.prototype.getAnticlockwise=function(){return this.anticlockwise},M.prototype.setAnticlockwise=function(t){return this.anticlockwise=t,this},f.inheritPrototype(A,M),A.prototype.process=function(){var t=this.ctx,e=this._dx,i=this._dy;t.beginPath(),t.moveTo(e,i),t.arc(e,i,this.r,this.startAngle,this.endAngle,this.anticlockwise),t.lineTo(e,i)},A.prototype.isPointInPath=d.prototype.isPointInPath,A.prototype.isPointInStroke=d.prototype.isPointInStroke,f.inheritPrototype(m,M),m.prototype.process=function(){this.ctx.beginPath(),this.ctx.ellipse(this._dx,this._dy,this.r,this.radiusY,this.rotation,this.startAngle,this.endAngle,this.anticlockwise)},m.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e-this._dy,t=s.getM11i()*t+s.getM21i()*e-this._dx,e=-this._sin*t+this._cos*i,t=this._cos*t+this._sin*i,Math.sqrt(Math.pow(t,2)*this._ryx+Math.pow(e,2)*this._rxy)<=this._sqrtRxRy},m.prototype.isPointInStroke=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e-this._dy,t=s.getM11i()*t+s.getM21i()*e-this._dx,e=-this._sin*t+this._cos*i,t=this._cos*t+this._sin*i,0===Math.round((Math.sqrt(Math.pow(t,2)*this._ryx+Math.pow(e,2)*this._rxy)-this._sqrtRxRy)/this.sty.lineWidth)},m.prototype.getRadiusX=function(){return this.r},m.prototype.setRadiusX=function(t){return this.r=t,this._sqrtRxRy=Math.sqrt(t*this.radiusY),this._rxy=t/this.radiusY,this._ryx=this.radiusY/t,this},m.prototype.getRadiusY=function(){return this.radiusY},m.prototype.setRadiusY=function(t){return this.radiusY=t,this._sqrtRxRy=Math.sqrt(this.r*t),this._rxy=this.r/t,this._ryx=t/this.r,this},m.prototype.setRadius=function(t,e){return this.r=t,this.radiusY=e,this._sqrtRxRy=Math.sqrt(t*e),this._rxy=t/e,this._ryx=e/t,this},m.prototype.getRotation=function(){return this.rotation},m.prototype.setRotation=function(t){return this.rotation!==t&&(this.rotation=t,this._cos=Math.cos(t),this._sin=Math.sin(t)),this},f.inheritPrototype(L,d),L.prototype.process=function(){var t=this.ctx;t.beginPath(),t.moveTo(this._dx,this._dy),t.lineTo(this._ex,this._ey)},L.prototype.getEndX=function(){return this.ex},L.prototype.setEndX=function(t){return this.ex=t,this._ex=t-this.cx,this},L.prototype.getEndY=function(){return this.ey},L.prototype.setEndY=function(t){return this.ey=t,this._ey=t-this.cy,this},f.inheritPrototype(R,L),R.prototype.process=function(){var t=this.ctx;t.beginPath(),t.moveTo(this._dx,this._dy),void 0===this.cp1x?t.lineTo(this._ex,this._ey):void 0===this.cp2x?t.quadraticCurveTo(this._cp1x,this._cp1y,this._ex,this._ey):t.bezierCurveTo(this._cp1x,this._cp1y,this._cp2x,this._cp2y,this._ex,this._ey)},R.prototype.getControlPoint1X=function(){return this.cp1x},R.prototype.setControlPoint1X=function(t){return this.cp1x=t,this._cp1x=t-this.cx,this},R.prototype.getControlPoint1Y=function(){return this.cp1y},R.prototype.setControlPoint1Y=function(t){return this.cp1y=t,this._cp1y=t-this.cy,this},R.prototype.getControlPoint2X=function(){return this.cp2x},R.prototype.setControlPoint2X=function(t){return this.cp2x=t,this._cp2x=t-this.cx,this},R.prototype.getControlPoint2Y=function(){return this.cp2y},R.prototype.setControlPoint2Y=function(t){return this.cp2y=t,this._cp2y=t-this.cy,this},f.inheritPrototype(w,d),w.prototype.process=function(){var t=this.ctx,e=this._dx-this.al*this._cos,i=this._dy-this.al*this._sin,s=this.al*this._tan*this._sin,n=this.al*this._tan*this._cos,o=e+s,r=i-n;t.beginPath(),t.moveTo(o,r),t.lineTo(this._dx,this._dy),t.lineTo(e-s,i+n),this.closed&&t.lineTo(o,r)},w.prototype.getAngle=function(){return this.an},w.prototype.setAngle=function(t){return this.an!==t&&(this.an=t,this._cos=Math.cos(t),this._sin=Math.sin(t)),this},w.prototype.getClosed=function(){return this.closed},w.prototype.setClosed=function(t){return this.closed=t,this},w.prototype.getArrowLength=function(){return this.al},w.prototype.setArrowLength=function(t){return this.al=t,this},w.prototype.getArrowAngle=function(){return this.aa},w.prototype.setArrowAngle=function(t){return this.aa!==t&&(this.aa=t,this._tan=Math.tan(t)),this},f.inheritPrototype(v,w),v.prototype.process=function(){var t,e,i=this.ctx,s=this._dx,n=this._dy,o=this._ex,r=this._ey;this.setAngle(Math.atan2(n-r,s-o)),w.prototype.process.call(this),i.moveTo(s,n),0!==this.el&&(t=Math.sqrt(Math.pow(o-s,2)+Math.pow(r-n,2)),t=s*(1-(e=(1-this.el/t)/2))+o*e,e=n*(1-e)+r*e,i.lineTo(t,e),i.moveTo(s+o-t,n+r-e)),i.lineTo(o,r)},v.prototype.getEndX=function(){return this.ex},v.prototype.setEndX=function(t){return this.ex=t,this._ex=t-this.cx,this},v.prototype.getEndY=function(){return this.ey},v.prototype.setEndY=function(t){return this.ey=t,this._ey=t-this.cy,this},v.prototype.getEmptyLength=function(){return this.el},v.prototype.setEmptyLength=function(t){return this.el=t,this},f.inheritPrototype(I,d),I.prototype.process=function(){var t,e=this.ctx,i=this._dx,s=this._dy,n=this._cos,o=this._sin,r=i,h=s-this.r;e.beginPath(),e.moveTo(r,h);for(var a=0;a<this.sides-1;a++)t=(r-i)*o+(h-s)*n+s,r=(r-i)*n-(h-s)*o+i,h=t,e.lineTo(r,h);e.lineTo(i,s-this.r)},I.prototype.getRadius=function(){return this.r},I.prototype.setRadius=function(t){return this.r=t,this},I.prototype.getSides=function(){return this.sides},I.prototype.setSides=function(t){return this.sides!==t&&(this.sides=t,this._cos=Math.cos(2*Math.PI/t),this._sin=Math.sin(2*Math.PI/t)),this},f.inheritPrototype(S,I),S.prototype.process=function(){var t,e,i=this.ctx,s=this._dx,n=this._dy,o=s,r=n-this.r,h=this._cos,a=this._sin;if(i.beginPath(),i.moveTo(o,r),this._even){for(e=0;e<this.sides/2-1;e++)p();i.lineTo(s,n-this.r);var u=(o-s)*this._cosh-(r-n)*this._sinh+s,c=(o-s)*this._sinh+(r-n)*this._cosh+n,o=u,r=c;for(i.moveTo(o,r),e=0;e<this.sides/2-1;e++)p();i.lineTo(u,c)}else{for(e=0;e<this.sides-1;e++)p();i.lineTo(s,n-this.r)}function p(){t=(o-s)*a+(r-n)*h+n,o=(o-s)*h-(r-n)*a+s,r=t,i.lineTo(o,r)}},S.prototype.setSides=function(t){return this.sides!==t&&(this.sides=t,this._cos=Math.cos(4*Math.PI/t),this._sin=Math.sin(4*Math.PI/t),(this._even=t%2==0)&&(this._cosh=Math.cos(2*Math.PI/t),this._sinh=Math.sin(2*Math.PI/t))),this},f.inheritPrototype(N,y),N.prototype.fill=function(){return this.setStyles().setTransform(),this.ctx.fillText(this.text,this._dx,this._dy),this.resetTransform(),this},N.prototype.stroke=function(){return this.setStyles().setTransform(),this.ctx.strokeText(this.text,this._dx,this._dy),this.resetTransform(),this},N.prototype.fillStroke=function(){return this.setStyles().setTransform(),this.ctx.fillText(this.text,this._dx,this._dy),this.ctx.strokeText(this.text,this._dx,this._dy),this.resetTransform(),this},N.prototype.setStyles=function(){var t=this.ctx,e=this.sty;return t.CURRENT_FILL_STYLE!==e.fillStyle&&(t.fillStyle=t.CURRENT_FILL_STYLE=e.fillStyle),t.CURRENT_STROKE_STYLE!==e.strokeStyle&&(t.strokeStyle=t.CURRENT_STROKE_STYLE=e.strokeStyle),t.CURRENT_FONT!==e.font&&(t.font=t.CURRENT_FONT=e.font),t.CURRENT_TEXT_ALIGN!==e.textAlign&&(t.textAlign=t.CURRENT_TEXT_ALIGN=e.textAlign),t.CURRENT_TEXT_BASELINE!==e.textBaseline&&(t.textBaseline=t.CURRENT_TEXT_BASELINE=e.textBaseline),this},N.prototype.getText=function(){return this.text},N.prototype.setText=function(t){return this.text=t,this},N.prototype.getStyle=function(){return this.sty},N.prototype.setStyle=function(t){return this.sty=t,this},f.inheritPrototype(O,d),O.prototype._initDataPoints=function(){return this._processedPoints=new Array(this.length),this._actualPoints=new Array(this.length),this},O.prototype._initCache=function(){var t=new Map;return t.set("points",new Array(this.points.length)),t.set("length",NaN),t.set("_dx",NaN),t.set("_dy",NaN),t.set("cx",NaN),t.set("cy",NaN),t.set("matrix",new o),this.cache=t,this},O.prototype._useCache=function(){var t,e,i=this.cache,s=i.get("points"),n=i.get("matrix"),o=this.points,r=this.mat,h=!1,a=!1,u=!1,c=!1,p=!1;for(n.equals(r)||(n.skewX=r.skewX,n.skewY=r.skewY,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.angle=r.angle,n.offsetX=r.offsetX,n.offsetY=r.offsetY,h=!0),t=0;t<o.length;t++)e=o[t],s[t]!==e&&(s[t]=e,a=!0);return i.get("length")!==this.length&&(i.set("length",this.length),u=!0),i.get("_dx")===this._dx&&i.get("_dy")===this._dy||(i.set("_dx",this._dx),i.set("_dy",this._dy),c=!0),(a||u||c)&&this._processPoints(),i.get("cx")===this.cx&&i.get("cy")===this.cy||(i.set("cx",this.cx),i.set("cy",this.cy),p=!0),!(h||a||u||c||p)},O.prototype.setTransform=function(){if(this._useCache())return this;var t,e,i,s=this.mat,n=this.cx,o=this.cy,r=this._processedPoints,h=this._actualPoints;if(s.isNotDefault())for(t=0;t<this.length;t+=2)e=r[t],i=r[t+1],h[t]=s.getM11()*e+s.getM21()*i+s.offsetX+n,h[t+1]=s.getM12()*e+s.getM22()*i+s.offsetY+o;else if(s.offsetX||s.offsetY||n||o)for(t=0;t<this.length;t+=2)h[t]=r[t]+s.offsetX+n,h[t+1]=r[t+1]+s.offsetY+o;else for(t=0;t<this.length;t+=2)h[t]=r[t],h[t+1]=r[t+1];return this},O.prototype.clear=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform().process(),n.clip(),n.clearRect(this._actualPoints[0]+t,this._actualPoints[1]+e,i,s),n.restore(),this},O.prototype.clearEvenOdd=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform().process(),n.clip("evenodd"),n.clearRect(this._actualPoints[0]+t,this._actualPoints[1]+e,i,s),n.restore(),this},O.prototype.resetTransform=function(){return this},O.prototype.isPointInPath=function(t,e){return this.process(),this.ctx.isPointInPath(t,e)},O.prototype.isPointInStroke=function(t,e){return this.process(),this.ctx.isPointInStroke(t,e)},O.prototype._processPoints=function(){for(var t=this._dx,e=this._dy,i=this.points,s=this._processedPoints,n=0;n<this.length;n+=2)s[n]=t+i[n],s[n+1]=e+i[n+1];return this},O.prototype.getProcessedPoints=function(){return this._processedPoints},O.prototype.getActualPoints=function(){return this._actualPoints},O.prototype.getPoints=function(){return this.points},O.prototype.setPoints=function(t){return this.points=t,this.length=t.length,this},O.prototype.getLength=function(){return this.length},O.prototype.setLength=function(t){return this.length=0<t?t:0,this},O.prototype.insert=function(t,e){return this.points.push(t,e),this.length+=2,this},O.prototype.insertAt=function(t,e,i){return this.points.splice(2*i,0,t,e),this.length+=2,this},O.prototype.delete=function(t){return this.points.splice(2*t,2),this.length-=2,this},O.prototype.update=function(t,e,i){return i*=2,this.points[i]=t,this.points[i+1]=e,this},O.prototype.select=function(t){return t*=2,new c(this.points[t],this.points[t+1])},O.prototype.selectAll=function(){for(var t=this.points,e=new Array(t.length/2),i=0;i<t.length;i+=2)e[i/2]=new c(t[i],t[i+1]);return e},f.inheritPrototype(P,O),P.prototype.process=function(){var t=this.ctx,e=this._actualPoints;t.beginPath();for(var i=0;i<this.length;i+=2)0!==i?t.lineTo(e[i],e[i+1]):t.moveTo(e[i],e[i+1])},f.inheritPrototype(D,P),D.prototype._processPoints=function(){for(var t,e,i,s,n,o=this._dx,r=this._dy,h=this.points,a=this.length,u=this._processedPoints,c=h.length/2-1,p=0;p<a;p+=2){for(n=p/(a-2),t=i=e=0;t<h.length;t+=2)s=f.combination(s=t/2,c)*Math.pow(n,s)*Math.pow(1-n,c-s),e+=h[t]*s,i+=h[t+1]*s;u[p]=o+e,u[p+1]=r+i}return this},D.prototype.setPoints=function(t){return this.points=t,this},D.prototype.insert=function(t,e){return this.points.push(t,e),this},D.prototype.insertAt=function(t,e,i){return this.points.splice(2*i,0,t,e),this},D.prototype.delete=function(t){return this.points.splice(2*t,2),this},f.inheritPrototype(F,O),F.prototype.process=function(){var t=this.ctx,e=this._actualPoints;t.beginPath();for(var i=0;i<this.length;i+=2)0===i&&t.moveTo(e[this.length-2],e[this.length-1]),t.lineTo(e[i],e[i+1])},f.inheritPrototype(C,F),C.prototype._processPoints=function(){var t=this.points,e=this._processedPoints,i=this._dx+t[0],s=this._dy+t[1],n=this._dx+t[2],t=this._dy+t[3];return e[0]=e[6]=i,e[1]=e[3]=s,e[2]=e[4]=n,e[5]=e[7]=t,i<n?(this._left=i,this._right=n):(this._left=n,this._right=i),s<t?(this._top=s,this._bottom=t):(this._top=t,this._bottom=s),this},C.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,t>=this._left&&e>=this._top&&t<=this._right&&e<=this._bottom},C.prototype.isPointInStroke=function(t,e){var i,s=this.mat,n=this.sty.lineWidth;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,(0===Math.round((t-this._left)/n)||0===Math.round((t-this._right)/n))&&e>=this._top&&e<=this._bottom||(0===Math.round((e-this._top)/n)||0===Math.round((e-this._bottom)/n))&&t>=this._left&&t<=this._right},C.prototype.setPoints=function(t){return this.points=t,this},f.inheritPrototype(U,F),U.prototype._processPoints=function(){var t,e,i=this.points,s=this._processedPoints,n=Math.cos(4*Math.PI/this.length),o=Math.sin(4*Math.PI/this.length),r=i[0],h=i[1],a=i[2]-r,u=i[3]-h;for(this._x=r+=this._dx,this._y=h+=this._dy,this._r=Math.sqrt(Math.pow(a,2)+Math.pow(u,2)),e=0;e<this.length;e+=2)s[e]=r+a,s[e+1]=h+u,t=u*n+a*o,a=a*n-u*o,u=t;return this},U.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,Math.sqrt(Math.pow(this._x-t,2)+Math.pow(this._y-e,2))<=this._r},U.prototype.isPointInStroke=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,0===Math.round((Math.sqrt(Math.pow(this._x-t,2)+Math.pow(this._y-e,2))-this._r)/this.sty.lineWidth)},U.prototype.setPoints=function(t){return this.points=t,this},f.inheritPrototype(X,O),X.prototype._processPoints=function(){for(var t,e,i,s,n,o,r=this._dx,h=this._dy,a=this.points,u=this._processedPoints,c=0,p=0,f=u[0]=r+a[0],l=u[1]=h+a[1],y=2;y<a.length;y+=2)i=r+a[y],s=h+a[y+1],n=r+a[y+2],o=h+a[y+3],isNaN(n)?t=e=0:(t=(n-f)/8,e=(o-l)/8),u[o=3*y-4]=f+c,u[1+o]=l+p,u[2+o]=i-t,u[3+o]=s-e,c=t,p=e,f=u[4+o]=i,l=u[5+o]=s},X.prototype.process=function(){var t=this.ctx,e=this._actualPoints;t.beginPath(),t.moveTo(e[0],e[1]);for(var i=2;i<this.length;i+=6)t.bezierCurveTo(e[i],e[i+1],e[i+2],e[i+3],e[i+4],e[i+5])},X.prototype.setPoints=function(t){return this.points=t,this.length=3*t.length-4,this},X.prototype.insert=function(t,e){return this.points.push(t,e),0!==this.length?this.length+=6:this.length=2,this},X.prototype.insertAt=function(t,e,i){return this.points.splice(2*i,0,t,e),0!==this.length?this.length+=6:this.length=2,this},X.prototype.delete=function(t){return this.points.splice(2*t,2),2<this.length?this.length-=6:this.length=0,this},f.inheritPrototype(Y,O),Y.prototype.process=function(){var t,e,i,s=this.ctx,n=this.r,o=this._actualPoints;for(s.beginPath(),t=0;t<this.length;t+=2)e=o[t],i=o[t+1],s.moveTo(e+n,i),s.arc(e,i,n,0,2*Math.PI,!1)},Y.prototype.getRadius=function(){return this.r},Y.prototype.setRadius=function(t){return this.r=t,this},f.inheritPrototype(b,d),b.prototype.fill=function(){return this.setStyles().setTransform(),this.ctx.fill(this.path),this.resetTransform(),this},b.prototype.fillEvenOdd=function(){return this.setStyles().setTransform(),this.ctx.fill(this.path,"evenodd"),this.resetTransform(),this},b.prototype.stroke=function(){return this.setStyles().setTransform(),this.ctx.stroke(this.path),this.resetTransform(),this},b.prototype.fillStroke=function(){return this.setStyles().setTransform(),this.ctx.fill(this.path),this.ctx.stroke(this.path),this.resetTransform(),this},b.prototype.fillEvenOddStroke=function(){return this.setStyles().setTransform(),this.ctx.fill(this.path,"evenodd"),this.ctx.stroke(this.path),this.resetTransform(),this},b.prototype.clip=function(){return this.ctx.save(),this.setTransform(),this.ctx.clip(this.path),this.resetTransform(),this},b.prototype.clipEvenOdd=function(){return this.ctx.save(),this.setTransform(),this.ctx.clip(this.path,"evenodd"),this.resetTransform(),this},b.prototype.clear=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform(),n.clip(this.path),n.clearRect(this._dx+t,this._dy+e,i,s),n.restore(),this},b.prototype.clearEvenOdd=function(t,e,i,s){var n=this.ctx;return n.save(),this.setTransform(),n.clip(this.path,"evenodd"),n.clearRect(this._dx+t,this._dy+e,i,s),n.restore(),this},b.prototype.isPointInPath=function(t,e){var i=this.mat;return t-=i.offsetX+this.cx,e-=i.offsetY+this.cy,this.ctx.isPointInPath(this.path,i.getM11i()*t+i.getM21i()*e,i.getM12i()*t+i.getM22i()*e)},b.prototype.isPointInStroke=function(t,e){var i=this.mat;return t-=i.offsetX+this.cx,e-=i.offsetY+this.cy,this.ctx.isPointInStroke(this.path,i.getM11i()*t+i.getM21i()*e,i.getM12i()*t+i.getM22i()*e)},b.prototype.getPath=function(){var t=new Path2D;return t.addPath(this.path,{e:-this._dx,f:-this._dy}),t},b.prototype.getOffsetPath=function(){return this.path},b.prototype.setPath=function(t){return this.path=new Path2D,this.addPath(t),this},b.prototype.addPath=function(t){var e=Object.prototype.toString.call(t);return"[object String]"===e?this.path.addPath(new Path2D(t),{e:this._dx,f:this._dy}):"[object Path2D]"===e&&this.path.addPath(t,{e:this._dx,f:this._dy}),this},b.prototype.addFixedShape=function(t){var e=t.getMatrix();return this.path.addPath(t.getOffsetPath(),{a:e.getM11(),b:e.getM12(),c:e.getM21(),d:e.getM22(),e:e.offsetX+t.cx+this._dx,f:e.offsetY+t.cy+this._dy}),this},f.inheritPrototype(H,b),H.prototype.process=function(){this.path.rect(this._dx,this._dy,this.sw,this.sh),0<this.sw?(this._left=this._dx,this._right=this._dx+this.sw):(this._left=this._dx+this.sw,this._right=this._dx),0<this.sh?(this._top=this._dy,this._bottom=this._dy+this.sh):(this._top=this._dy+this.sh,this._bottom=this._dy)},H.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,t>=this._left&&e>=this._top&&t<=this._right&&e<=this._bottom},H.prototype.isPointInStroke=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,(0===Math.round((t-this._left)/this.sty.lineWidth)||0===Math.round((t-this._right)/this.sty.lineWidth))&&e>=this._top&&e<=this._bottom||(0===Math.round((e-this._top)/this.sty.lineWidth)||0===Math.round((e-this._bottom)/this.sty.lineWidth))&&t>=this._left&&t<=this._right},H.prototype.getWidth=function(){return this.sw},H.prototype.getHeight=function(){return this.sh},f.inheritPrototype(k,b),k.prototype.process=function(){this.path.arc(this._dx,this._dy,this.r,this.startAngle,this.endAngle,this.anticlockwise)},k.prototype.isPointInPath=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,Math.sqrt(Math.pow(this._dx-t,2)+Math.pow(this._dy-e,2))<=this.r},k.prototype.isPointInStroke=function(t,e){var i,s=this.mat;return t-=s.offsetX+this.cx,e-=s.offsetY+this.cy,i=s.getM12i()*t+s.getM22i()*e,t=s.getM11i()*t+s.getM21i()*e,e=i,0===Math.round((Math.sqrt(Math.pow(this._dx-t,2)+Math.pow(this._dy-e,2))-this.r)/this.sty.lineWidth)},k.prototype.getRadius=function(){return this.r},k.prototype.getStartAngle=function(){return this.startAngle},k.prototype.getEndAngle=function(){return this.endAngle},k.prototype.getAnticlockwise=function(){return this.anticlockwise},G.prototype.mount=function(t){for(var e in t)this[e]=t[e],"[object Object]"===Object.prototype.toString.call(t[e])&&(t[e].$=this);return this},G.prototype.resize=function(){this.canvas.width=this.width=this.canvas.offsetWidth,this.canvas.height=this.height=this.canvas.offsetHeight,this.stg.initCurrentStyles()},["init","update","draw","eventdown","eventmove","eventup","click","dblclick","contextmenu","wheel","visibility","keydown","keyup","keypress"].forEach(function(t){G.prototype[t]=f.noop}),G.prototype.initListeners=function(){var t,e,i,s=this;s.eventListeners={},s.eventListeners.mousedown=function(t){s.lastX=s.x=t.clientX,s.lastY=s.y=t.clientY,s.eventdown(t)},s.eventListeners.touchstart=function(t){s.lastX=s.x=t.targetTouches[0].clientX,s.lastY=s.y=t.targetTouches[0].clientY,s.eventdown(t)},t=function(t){s.x=t.clientX,s.y=t.clientY,s.moveX=s.x-s.lastX,s.moveY=s.y-s.lastY,s.eventmove(t)},s.eventListeners.mousemove=s.interval?f.throttle(t,s.interval,!0):t,t=function(t){t.preventDefault(),s.x=t.targetTouches[0].clientX,s.y=t.targetTouches[0].clientY,s.moveX=s.x-s.lastX,s.moveY=s.y-s.lastY,s.eventmove(t)},s.eventListeners.touchmove=s.interval?f.throttle(t,s.interval,!0):t,s.eventListeners.mouseup=s.eventListeners.mouseout=s.eventListeners.touchend=function(t){s.eventup(t)},s.eventListeners.click=function(t){s.x=t.clientX,s.y=t.clientY,s.click(t)},s.eventListeners.dblclick=function(t){s.x=t.clientX,s.y=t.clientY,s.dblclick(t)},s.eventListeners.contextmenu=function(t){t.preventDefault(),s.x=t.clientX,s.y=t.clientY,s.contextmenu(t)},s.eventListeners.wheel=function(t){s.x=t.clientX,s.y=t.clientY,s.lastScale=s.scale,s.scale=Math.round(s.scale*(0<t.deltaY?190.2072690095294:344.5504493138832))/256,s.scale=Math.min(Math.max(.125,s.scale),8),s.scaling=s.scale/s.lastScale,s.wheel(t)},t=function(){s.resize()},s.windowListeners={resize:s.interval?f.throttle(t,s.interval,!0):t},void 0!==document.hidden?(e="visibilitychange",i="hidden"):void 0!==document.msHidden?(e="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",i="webkitHidden"),s.windowListeners[e]=function(){s.visibility(document[i])},s.windowListeners.keydown=function(t){t.isComposing||"Process"===t.key||(s.key=t.key,s.keydown(t))},s.windowListeners.keyup=function(t){t.isComposing||"Process"===t.key||(s.key=t.key,s.keyup(t))},s.windowListeners.keypress=function(t){s.key=t.key,s.keypress(t)}},G.prototype.addListeners=function(){var t,e=this;for(t in e.eventListeners)e.canvas.addEventListener(t,e.eventListeners[t],!1);for(t in e.windowListeners)addEventListener(t,e.windowListeners[t],!1)},G.prototype.removeListeners=function(){var t,e=this;for(t in e.eventListeners)e.canvas.removeEventListener(t,e.eventListeners[t],!1);for(t in e.windowListeners)removeEventListener(t,e.windowListeners[t],!1)},G.prototype.deleteListeners=function(){var t,e=this;for(t in e.eventListeners)e.eventListeners[t]=null,delete e.eventListeners[t];for(t in e.windowListeners)e.windowListeners[t]=null,delete e.windowListeners[t]},G.prototype.destroy=function(){var t=this;t.removeListeners(),t.deleteListeners(),t.raf.stop(),t.raf.func=t.raf.defaultBind=t.raf.intervalBind=null,t.el.removeChild(t.canvas)},{Utils:f,Rgb:_,Hsl:u,Matrix:o,FillStrokeStyle:e,TextStyle:r,ShapeStyle:h,ShadowStyle:i,OtherStyle:s,Point:c,Collision:t,Setting:n,ImgData:g,Animate:a,AnimateITV:p,AnimateRAF:l,BasicShape:y,Shape:d,Rect:T,RoundRect:E,ImageShape:x,Arc:M,Sector:A,Ellipse:m,Line:L,BezierLine:R,ArrowHead:w,Arrow:v,RegularPolygon:I,RegularStar:S,Text:N,DotShape:O,Polyline:P,Bezier:D,Polygon:F,PolyRect:C,PolyArc:U,SmoothLine:X,Dots:Y,FixedShape:b,FixedRect:H,FixedArc:k,Canvas:G}});
